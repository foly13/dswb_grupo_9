doctype html
html
  head
    title Tareas
    link(rel='stylesheet', href='https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css')
    link(rel="stylesheet", href="/styles.css")
  body
    h1.text-center Lista de Tareas

    form(method="GET" action="/tasks" class="text-center mb-4")
          div.form-group
            label(for="estado") Filtrar por Estado:
            select#estado.form-control(name="estado")
              option(value="") -- Seleccionar Estado --
              option(value="1") Pendiente
              option(value="2") En Progreso
              option(value="3") Completado
          div.form-group
            label(for="prioridad") Filtrar por Prioridad:
            select#prioridad.form-control(name="prioridad")
              option(value="") -- Seleccionar Prioridad --
              option(value="1") Baja
              option(value="2") Media
              option(value="3") Alta
          button.btn.btn-primary(type="submit") Filtrar
          a.btn.btn-secondary(href="/tasks") Limpiar Filtros
          a.btn.btn-primary.btn-lg.m-2(href=`/admin`) Menú
    if message
      .alert.alert-success.text-center(role='alert')= message
      script.
        setTimeout(function() {
          window.location.href = "/tasks";
        }, 3000); 
    ul
      each task in tasks
        li.text-center #{task.Tarea} - Responsable: #{task.responsableNombre} - Estado: #{task.Estado} - Prioridad: #{task.prioridadNombre}
        .d-flex.justify-content-center.mb-3
          a.btn.btn-primary.btn-lg.m-2(href=`/tasks/${task.id}`) Ver tarea

    a.btn.btn-primary.btn-lg.m-2(href=`/admin`) Menú
  
   

  